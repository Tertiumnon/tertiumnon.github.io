import{a as N,b as O,c,d as F,e as Y,f as x,g as V,i as H}from"./chunk-SUHEE32K.js";import{A as C,Gb as d,Hb as S,Ib as u,Jb as b,K as f,Ka as a,Qb as Z,Sb as I,Va as g,X as h,Xb as y,Yb as w,Za as D,mc as M,pc as T,qc as E,rb as l,sb as n,tb as o,ub as v}from"./chunk-RLZ6SFX2.js";var s={createDt(i){let{h:r,m:p,s:t}=i,e=new Date;return e.setHours(r||0),e.setMinutes(p||0),e.setSeconds(t||0),e},formatToIsoDate(i){return new T("en-US").transform(i,"YYYY-MM-dd")},formatToIsoTime(i){return new T("en-US").transform(i,"HH:mm")},timeZone(){return Intl.DateTimeFormat().resolvedOptions().timeZone},timeZones(){return Intl.supportedValuesOf("timeZone")},convertTimeZone(i,r){return new Date(i.toLocaleString("en-US",{timeZone:r}))}};function _(i,r){if(i&1&&(n(0,"option",10),d(1),o()),i&2){let p=r.$implicit;l("value",p),a(),u(" ",p," ")}}function $(i,r){if(i&1&&(n(0,"option",10),d(1),o()),i&2){let p=r.$implicit;l("value",p),a(),u(" ",p," ")}}var K=(()=>{let r=class r{constructor(){this.TimeService=s,this.cdr=f(w),this.date=h(new Date),this.isoDate=h(new Date().toISOString()),this.timeZone=y(),this.initDateTime=h(s.createDt({h:11})),this.initDateCtrl=new c(s.formatToIsoDate(this.initDateTime().getTime())),this.initTimeCtrl=new c(s.formatToIsoTime(this.initDateTime().getTime())),this.initTimeZoneCtrl=new c(s.timeZone()),this.convertedDateTime=h(void 0),this.convertedDateCtrl=new c,this.convertedTimeCtrl=new c,this.convertedTimeZoneCtrl=new c(this.initTimeZoneCtrl),this.interval$=C(1e3),this.intervalSub=this.interval$.subscribe(this.setTime.bind(this))}ngOnInit(){this.initDateCtrl.valueChanges.subscribe(this.onInitDateChange.bind(this)),this.initTimeCtrl.valueChanges.subscribe(this.onInitTimeChange.bind(this)),this.initTimeZoneCtrl.valueChanges.subscribe(this.onInitTimeZoneChange.bind(this)),this.convertedTimeZoneCtrl.valueChanges.subscribe(this.onConvertedTimeZoneChange.bind(this))}ngOnDestroy(){this.intervalSub.unsubscribe()}setTime(){this.date.set(new Date),this.isoDate.set(new Date().toISOString())}onInitDateChange(t){if(!t)return;let e=this.initDateTime();e.setFullYear(Number(t.slice(0,4))),e.setMonth(Number(t.slice(5,7))-1),e.setDate(Number(t.slice(8,10))),this.initDateTime.set(e),this.convertedDateTime()&&this.updateConvertedDateTime()}onInitTimeChange(t){if(!t)return;let e=this.initDateTime();e.setHours(Number(t.slice(0,2))),e.setMinutes(Number(t.slice(3,5))),this.initDateTime.set(e),this.convertedDateTime()&&this.updateConvertedDateTime()}onInitTimeZoneChange(t){if(!t)return;this.initDateTime.set(s.convertTimeZone(this.initDateTime(),t));let e=this.initDateTime().getTime();this.initDateCtrl.setValue(s.formatToIsoDate(e)),this.initTimeCtrl.setValue(s.formatToIsoTime(e)),this.convertedDateTime()&&this.updateConvertedDateTime()}updateConvertedDateTime(){let t=this.convertedTimeZoneCtrl.value;if(!t)return;this.convertedDateTime.set(s.convertTimeZone(this.initDateTime(),t));let e=this.convertedDateTime()?.getTime();e&&(this.convertedDateCtrl.setValue(s.formatToIsoDate(e)),this.convertedTimeCtrl.setValue(s.formatToIsoTime(e)))}onConvertedTimeZoneChange(){this.updateConvertedDateTime()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g({type:r,selectors:[["app-what-time"]],inputs:{timeZone:[1,"timeZone"]},decls:30,vars:15,consts:[[1,"container-fluid","content"],[1,"flex","gap-1","pb-2"],["type","date","name","date",3,"formControl"],["type","time","name","time",3,"formControl"],["name","timeZone",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","gap-1"],["type","date","name","convertedDate","readonly","",3,"formControl"],["type","time","name","convertedTime","readonly","",3,"formControl"],["name","convertedTimeZone",3,"formControl"],[3,"value"]],template:function(e,m){e&1&&(n(0,"div",0)(1,"h1"),d(2,"What Time"),o(),n(3,"h2"),d(4,"Now"),o(),n(5,"p"),d(6),o(),n(7,"p"),d(8),o(),n(9,"p"),d(10),Z(11,"date"),o(),n(12,"h2"),d(13,"Date Time Zone Converter"),o(),n(14,"div",1)(15,"div"),v(16,"input",2),o(),n(17,"div"),v(18,"input",3),o(),n(19,"select",4),D(20,_,2,2,"option",5),o()(),n(21,"div",6)(22,"div"),d(23,"=>"),o(),n(24,"div"),v(25,"input",7),o(),n(26,"div"),v(27,"input",8),o(),n(28,"select",9),D(29,$,2,2,"option",5),o()()()),e&2&&(a(6),S(m.date()),a(2),u("ISO: ",m.isoDate()),a(2),b(" Time: ",I(11,12,m.date(),"YYYY-MM-dd HH:mm:ss")," (",m.TimeService.timeZone(),") "),a(6),l("formControl",m.initDateCtrl),a(2),l("formControl",m.initTimeCtrl),a(),l("formControl",m.initTimeZoneCtrl),a(),l("ngForOf",m.TimeService.timeZones()),a(5),l("formControl",m.convertedDateCtrl),a(2),l("formControl",m.convertedTimeCtrl),a(),l("formControl",m.convertedTimeZoneCtrl),a(),l("ngForOf",m.TimeService.timeZones()))},dependencies:[E,M,H,x,V,N,Y,O,F,T],encapsulation:2,changeDetection:0});let i=r;return i})();export{K as WhatTimeComponent};
